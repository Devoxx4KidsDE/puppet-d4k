<%
$ip = 101
if @hostname =~ /^d4k-\d+$/ 
  if $1.length == 1 
    $ip = 10 + $1
  else if $1.length == 2 
    $ip = 1 + $1
%>

# Please note that this file is written to be used with dhcpcd.
# For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'.

auto lo
iface lo inet loopback

auto eth0
allow-hotplug eth0
iface eth0 inet dhcp

auto wlan0
allow-hotplug wlan0
iface wlan0 inet static
a[/[aeiou](.)\1/]
address 192.168.1.<%= @IP %>
network 255.255.255.0
gateway 192.168.1.1
wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf