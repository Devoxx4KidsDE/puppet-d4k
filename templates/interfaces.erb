<%
   $ip_tail = 200
   if ($number = @hostname.match(/^d4k-\d+$/).captures)
     if $number.length == 1
       $ip_tail = 10 + $number
     elsif $number.length == 2
       $ip_tail = 1 + $number
     end
   end
-%>

<%= $$number %>
<%= @hostname %>
# Please note that this file is written to be used with dhcpcd.
# For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'.

auto lo
iface lo inet loopback

auto eth0
allow-hotplug eth0
iface eth0 inet dhcp

auto wlan0
allow-hotplug wlan0
iface wlan0 inet static
address 192.168.1.<%= $ip_tail %>
network 255.255.255.0
gateway 192.168.1.1
wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
